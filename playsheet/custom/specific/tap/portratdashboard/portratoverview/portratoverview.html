<portratcontainer label="'Portfolio Future State Map'" class="prd-action-map">
    <div class="prd-action-map-container">
        <div ng-if="capToggleToggle" class="btn-group toggle-switch map">
            <div class="btn md-btn btn-light" ng-click="setMapView('savings')" ng-class="{toggled: mapViewToggle === 'savings'}">By Savings </div>
            <div class="btn md-btn btn-light" ng-click="setMapView('capability')" ng-class="{toggled: mapViewToggle === 'capability'}">By Capability Coverage</div>
        </div>
        <portratchart port-rat-esri-map portratoverview-map unique-id="overviewMap" ng-if="mapViewToggle === 'savings'" container="{}" container-class="'prd-action-map-container'" data="recommendedActionMapData" sidebar-active="sidebarShow" chart="'savings'" zoom="3" basemap="streets" visual-type="'WorldMap'" view-type="'special'">
        </portratchart>
        <portratchart port-rat-esri-map portratcapcoverage-map unique-id="capCoverageMap" ng-if="mapViewToggle === 'capability'" container="{}" container-class="'prd-action-map-container'" data="capabilityMapData" sidebar-active="sidebarShow" chart="'cap'" zoom="3" basemap="streets" visual-type="'WorldMap'" view-type="'special'">
        </portratchart>
        <!-- <portratchart port-rat-esri-map container-class="'prd-action-map-container'" data="recommendedActionMapData" sidebar-active="false" show-title="true" unique-id="" visual-type="'WorldMap'" expand-viz="expandViz(selectedViz)"></portratchart> -->
    </div>
</portratcontainer>
<div>
    <portratinfobox class="prd-budget-info">
        <div class="bold lg-font" style="text-align:center;">Change in Annual Sustainment: </div>
        <div class="prd-systitle-modern bold" style="text-align:center;"> {{budgetInfoChangeNumVal | currency:"$":0 }}</div>
        <table class="prd-table full-width">
            <tr>
                <td class="bold">Current Annual Sustainment: </td>
                <td class="pull-right"> {{budgetInfo.formattedCurrentSustVal}}</td>
            </tr>
            <tr>
                <td class="bold">Future Annual Sustainment: </td>
                <td class="pull-right"> {{budgetInfo.formattedFutureSustVal}}</td>
            </tr>
            <tr>
                <td class="bold">Overall Cost of Action: </td>
                <td class="pull-right"> {{budgetInfo.formattedCostVal}}</td>
            </tr>
        </table>
    </portratinfobox>
    <portratinfobox class="prd-data-blu-info">
        <div class="bold lg-font" style="text-align:center;">Duplicity Reduced: </div>
        <div class="prd-systitle-modern duplicity bold" style="text-align:center;"> {{systemInfo.decommissionedCount}} Systems</div>
        <table class="prd-table full-width">
            <tr>
                <td class="bold">Current Number of Systems: </td>
                <td class="pull-right">{{systemInfo.beforeCount}}</td>
            </tr>
            <tr>
                <td class="bold">Future Number of Systems: </td>
                <td class="pull-right">{{systemInfo.afterCount}}</td>
            </tr>
            <tr>
                <td class="bold">Additional Deployments: </td>
                <td class="pull-right">{{systemInfo.additionalDeployment}}</td>
            </tr>
        </table>
    </portratinfobox>
    <div class="prd-health-systems">
        <div class="prd-appgrid">
            <portratchart portratscatterplot unique-id="healthGrid" container-class="'prd-appgrid'" data="healthGridData" show-title="true" 
                          visual-type="'Scatter'" expand-viz="expandViz(selectedViz)" view-type="'special'"
                          chart="'healthgrid'"></portratchart>
        </div>
    </div>
    <portratcontainer label="'Data and BLU System Coverage'" class="prd-system-coverage">
        <div class="prd-appgrid">
            <div class="btn-group toggle-switch datablucov" style="z-index:200">
                <div class="btn md-btn btn-light" ng-click="setView('coverage')" ng-class="{toggled: tabIndex === 'coverage'}">System Coverage </div>
                <div class="btn md-btn btn-light" ng-click="setView('detailed')" ng-class="{toggled: tabIndex === 'detailed'}">DO and BLU View </div>
            </div>
            <portratchart system-coverage unique-id="sysCoverage || 'sysCoverage'" container-class="'prd-appgrid'" data="overviewSystemCoverage"
                          visual-type="'customCluster'" view-type="'special'"></portratchart>
        </div>
    </portratcontainer>
</div>
