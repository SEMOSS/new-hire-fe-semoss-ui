<div id="terminal-vertical-resizer"
     resizer="'vertical'"
     resizer-width="4"
     resizer-right="'terminal-resizer'"
     width-toggle="'true'"
     right-offset="42"
     right-limit="367"
     after-resize="terminal.setWidth()"
     class="terminal-vertical-resizer"></div>


<div id="terminal-resizer" class="widget-sidebar-pop-out terminal-sidebar-pop-out">
    <div class="absolute-size overflow-hidden">

        <div class="terminal-output-bar"></div>

        <div ng-click="terminal.turnOffGlued()" scroll-glue="terminal.glued" id="terminal-view-content" class="terminal-view-content white-fill overflow-auto">
            <!-- ng-class="{'opened':!terminal.writeOpened, 'closed':terminal.writeOpened}"-->

            <div ng-repeat="step in terminal.history track by $index" ng-if="!$last">
                <div class="terminal-output-symbol-bar pull-left pointer"
                     ng-class="{'terminal-symbol-rotate' : step.output.show}"
                     ng-click="step.output.show = !step.output.show"
                     title="Toggle Output"
                     aria-label="Toggle Output">
                    <i class="fa fa-angle-right" aria-hidden="true" ng-if="!step.output.show"></i>
                    <i class="fa fa-angle-down" aria-hidden="true" ng-if="step.output.show"></i>
                    <!--<span class="sm-left-padding no-margin pull-left terminal-left-symbol"-->
                    <!--ng-bind="'>'">-->
                    <!--</span>-->
                </div>

                <div class="terminal-output pull-left inline xs-padding">
                     <span class="no-margin inline terminal-pkql-input pointer"
                           ng-click="terminal.populateWrite(step.input)"
                           ng-bind="step.input">
                     </span>

                     <span type="text" ng-show="step.output.message.length > 0 && step.output.show"
                           class="sm-font md-left-padding no-margin pull-left terminal-message"
                           ng-class="{'terminal-warning' : step.output.status === 'warning', 'terminal-error' : step.output.status === 'error',
                                'terminal-success' : step.output.status === 'success', 'terminal-info' : step.output.status === 'info'}"
                           ng-bind="step.output.message">
                     </span>
                </div>
            </div>
        </div>

        <div id="terminal-horizontal-resizer"
             resizer="'horizontal'"
             resizer-height="2"
             resizer-top="'terminal-view-content'"
             resizer-bottom="'terminal-write-content'"
             min-height="100"
             class="terminal-horizontal-resizer"></div>


        <div id="terminal-write-content" class="terminal-write-content">
            <!--   ng-class="{'opened':terminal.writeOpened, 'closed':!terminal.writeOpened}"-->
            <div class="terminal-toolbar">

                <div class="terminal-button-group">
                    <button class="btn-light terminal-button pull-left" title="PKQL" aria-label="PKQL"
                            ng-class="{'toggled':terminal.context === 'PKQL'}"
                            ng-click="terminal.setContext('PKQL')"><i
                            class="fa fa-lg fa-code"></i>
                    </button>
                    <button class="btn-light terminal-button pull-left" title="R" aria-label="R"
                            ng-click="terminal.setContext('R')"
                            ng-class="{'toggled':terminal.context === 'R'}">
                        <img class="full-width" src="resources/img/R_logo.png">
                    </button>
                    <button class="btn-light terminal-button pull-left" title="Java" aria-label="Java"
                            ng-click="terminal.setContext('Java')"
                            ng-class="{'toggled':terminal.context === 'Java'}">
                        <img class="full-width" src="resources/img/java-logo.png">
                    </button>
                    <button class="btn-blue pull-right sm-side-margin" title="Execute" aria-label="Execute"
                            ng-click="terminal.submit();">
                        Submit
                        <!--<i class="fa fa-lg fa-play"></i>-->
                    </button>
                    <button class="btn-blue pull-right sm-side-margin" title="Clear" aria-label="Clear"
                            ng-click="terminal.clear();">
                        Clear
                        <!--Clear<i class="fa fa-lg fa-times"></i>-->
                    </button>
                </div>

            </div>
            <div class="terminal-code-mirror overflow-auto">
                <div id="code-mirror">
                    <div ng-class="{'logo-background': true, 'java-background': terminal.context === 'Java', 'pkql-background': terminal.context === 'PKQL', 'r-background': terminal.context === 'R'}"></div>
                </div>
            </div>
        </div>
    </div>
</div>
